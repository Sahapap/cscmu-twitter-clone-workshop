(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{122:function(t,e,n){},148:function(t,e,n){},149:function(t,e,n){},150:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),c=n(36),s=n.n(c),i=(n(122),n(15)),o=n.n(i),u=n(17),j=n(10),l=n(211),b=n(212),d=n(203),p=n(208),x=n(77),O=n(59),h=n.n(O),f=Object({NODE_ENV:"production",PUBLIC_URL:"/cscmu-twitter-clone-workshop",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_SERVER_API||"http://localhost:3001",v=function(t,e,n,r){return h()({method:e,url:"".concat(f).concat(t),data:Object(x.a)({},n),headers:Object(x.a)({Authorization:localStorage.getItem("token")||""},r)})},m=function(t){return v(t,"GET")},g=function(t,e){return v(t,"POST",e)},w=function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m("/api/profiles/me");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),y=function(){var t=Object(u.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g("/api/profiles/me",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),S=n(1);var k=function(){var t=Object(r.useState)(!1),e=Object(j.a)(t,2),n=e[0],a=e[1],c=Object(r.useState)(""),s=Object(j.a)(c,2),i=s[0],x=s[1],O=Object(r.useState)(""),h=Object(j.a)(O,2),f=h[0],v=h[1],m=Object(r.useState)(""),g=Object(j.a)(m,2),k=g[0],C=g[1],E=Object(r.useState)({}),I=Object(j.a)(E,2),P=I[0],T=I[1];Object(r.useEffect)((function(){function t(){return(t=Object(u.a)(o.a.mark((function t(){var e,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w();case 2:e=t.sent,console.log(e.data),e&&e.data&&(n=e.data.profile,x(n.name||""),v(n.history||""),C(n.website||""),T(n||{}));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}(),console.log("Render Cat Component")}),[]);var B=function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y({name:i,history:f,website:k});case 2:a(!1);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(S.jsxs)(l.a,{sx:{width:"100%",maxWidth:500},children:[Object(S.jsx)(b.a,{variant:"h2",component:"div",gutterBottom:!0,children:"Profile"}),Object(S.jsxs)("div",{style:{textAlign:"right"},children:[n&&Object(S.jsx)(p.a,{onClick:B,children:"Save"}),Object(S.jsx)(p.a,{onClick:function(){n&&(x(P.name),v(P.history),C(P.website)),a((function(t){return!t}))},children:n?"Cancel":"Edit"})]}),Object(S.jsxs)(b.a,{variant:"h6",gutterBottom:!0,component:"div",children:["Name: ",n?Object(S.jsx)(d.a,{id:"filled-basic",label:"Name",variant:"outlined",value:i,onChange:function(t){return x(t.target.value)}}):i]}),Object(S.jsxs)(b.a,{variant:"h6",gutterBottom:!0,component:"div",children:["History: ",n?Object(S.jsx)(d.a,{id:"filled-basic",label:"History",variant:"outlined",value:f,onChange:function(t){return v(t.target.value)}}):f]}),Object(S.jsxs)(b.a,{variant:"h6",gutterBottom:!0,component:"div",children:["Website: ",n?Object(S.jsx)(d.a,{id:"filled-basic",label:"Website",variant:"outlined",value:k,onChange:function(t){return C(t.target.value)}}):k]})]})},C=(n(148),n(221)),E=n(222),I=n(223),P=n(224),T=n(210),B=n(214),D=n(39),R=n(99),_=n.n(R),A=n(100),H=n.n(A),L=n(98),W=n.n(L),F=function(){var t=Object(u.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g("/api/posts",e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),U=function(){var t=Object(u.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g("/api/posts/".concat(e,"/love"));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),M=function(){var t=Object(u.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n="/api/posts/".concat(e,"/un-love"),v(n,"DELETE",void 0);case 2:case"end":return t.stop()}var n}),t)})));return function(e){return t.apply(this,arguments)}}();function N(t){var e=t.content,n=t.createdDate,a=t.createdUser,c=t.lovePost,s=t.postId,i=r.useState(!1),l=Object(j.a)(i,2),d=l[0],p=l[1];r.useEffect((function(){c.find((function(t){return t.userId===localStorage.getItem("userId")}))?p(!0):p(!1)}),[c]);var x=function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!d){t.next=6;break}return t.next=3,M(s);case 3:p(!1),t.next=9;break;case 6:return t.next=8,U(s);case 8:p(!0);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(S.jsxs)(C.a,{sx:{width:"100%",marginBottom:5},children:[Object(S.jsx)(E.a,{avatar:Object(S.jsx)(T.a,{sx:{bgcolor:D.a[500]},"aria-label":"recipe",children:"R"}),action:Object(S.jsx)(B.a,{"aria-label":"settings",children:Object(S.jsx)(W.a,{})}),title:a.profile.name,subheader:new Date(n).toDateString()}),Object(S.jsx)(I.a,{children:Object(S.jsx)(b.a,{variant:"body2",color:"text.secondary",children:e})}),Object(S.jsxs)(P.a,{disableSpacing:!0,children:[Object(S.jsx)(B.a,{"aria-label":"add to favorites",sx:d?{color:"red"}:{},onClick:x,children:Object(S.jsx)(_.a,{})}),Object(S.jsx)(B.a,{"aria-label":"share",children:Object(S.jsx)(H.a,{})})]})]})}var z=function(){var t=Object(u.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m("/api/feeds");case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();var K=function(){var t=Object(r.useState)([]),e=Object(j.a)(t,2),n=e[0],a=e[1],c=Object(r.useState)(""),s=Object(j.a)(c,2),i=s[0],x=s[1];function O(){return h.apply(this,arguments)}function h(){return(h=Object(u.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z();case 2:e=t.sent,console.log(e),e&&e.length>0&&a(e);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(r.useEffect)((function(){function t(){return(t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O();case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var f=function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F({content:i});case 2:return x(""),t.next=5,O();case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(S.jsxs)(l.a,{sx:{width:"100%"},children:[Object(S.jsx)(b.a,{variant:"h2",component:"div",gutterBottom:!0,children:"Home"}),Object(S.jsxs)(l.a,{sx:{border:"1px solid",width:"100%",marginBottom:5,height:300,padding:2},children:[Object(S.jsx)(b.a,{variant:"h6",component:"div",gutterBottom:!0,children:"Post"}),Object(S.jsx)(d.a,{multiline:!0,maxRows:15,sx:{width:"100%"},onChange:function(t){return x(t.target.value)}}),Object(S.jsx)("div",{style:{textAlign:"right"},children:Object(S.jsx)(p.a,{onClick:f,children:"Post"})})]}),n.map((function(t,e){return Object(S.jsx)(N,{content:t.content,createdDate:t.createdOn,createdUser:t.createdUser,lovePost:t.lovePost,postId:t.postId},e)}))]})},G=n(14);var J=function(){var t=Object(r.useState)(""),e=Object(j.a)(t,2),n=e[0],a=e[1],c=Object(r.useState)(""),s=Object(j.a)(c,2),i=s[0],o=s[1],u=Object(G.f)();return Object(S.jsx)("div",{style:{width:"100%",textAlign:"center",display:"flex",justifyContent:"center"},children:Object(S.jsxs)(l.a,{children:[Object(S.jsx)(b.a,{variant:"h2",component:"div",gutterBottom:!0,children:"Login"}),Object(S.jsxs)(l.a,{sx:{width:"100%",display:"grid"},children:[Object(S.jsx)(d.a,{label:"Username",variant:"outlined",sx:{margin:1},onChange:function(t){return a(t.target.value)}}),Object(S.jsx)(d.a,{type:"password",label:"Password",variant:"outlined",sx:{margin:1},onChange:function(t){return o(t.target.value)}}),Object(S.jsx)(p.a,{onClick:function(){g("/api/login",{username:n,password:i}).then((function(t){console.log(t.data),t.data&&t.data.token&&(localStorage.setItem("token",t.data.token),localStorage.setItem("userId",t.data.userId),u("/"))}))},children:"Log in"})]})]})})},V=function(){var t=Object(u.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.get("https://jsonplaceholder.typicode.com/posts");case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();var q=function(){var t=Object(r.useState)(""),e=Object(j.a)(t,2),n=e[0],a=e[1],c=Object(r.useState)(0),s=Object(j.a)(c,2),i=s[0],l=s[1];return Object(r.useEffect)((function(){function t(){return(t=Object(u.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V();case 2:e=t.sent,console.log("this is result: ",e);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){l(n.length)}),[n]),Object(S.jsxs)("div",{children:[Object(S.jsx)(d.a,{onChange:function(t){return a(t.target.value)}}),Object(S.jsxs)("p",{children:["Car name: ",n]}),Object(S.jsx)("br",{}),Object(S.jsxs)("p",{children:["length: ",i]})]})};var Q=function(){return Object(S.jsxs)("div",{style:{border:"1px solid blue"},children:[Object(S.jsx)("p",{style:{color:"green",fontSize:100},children:"Cat No.2"}),Object(S.jsx)("button",{children:"Test"}),Object(S.jsx)("br",{})]})},X=(n(149),n(219)),Y=n(202),Z=n(216),$=n(209),tt=n(67),et=n.n(tt),nt=n(213),rt=n(206),at=n(217),ct=n(218),st=n(66),it=n.n(st),ot=n(101),ut=n.n(ot),jt=n(215),lt=240;function bt(t){var e=t.window,n=Object(r.useState)(!1),a=Object(j.a)(n,2),c=a[0],s=a[1],i=Object(G.f)();Object(r.useEffect)((function(){localStorage.getItem("token")||i("/login")}),[i]);var o=function(){s(!c)},u=function(t){i(t)},d=Object(S.jsxs)("div",{children:[Object(S.jsx)(jt.a,{}),Object(S.jsx)(Z.a,{}),Object(S.jsxs)(nt.a,{children:[Object(S.jsxs)(rt.a,{button:!0,onClick:function(){return u("/profile")},children:[Object(S.jsx)(at.a,{children:Object(S.jsx)(it.a,{})}),Object(S.jsx)(ct.a,{primary:"Profile"})]}),Object(S.jsxs)(rt.a,{button:!0,onClick:function(){return u("/")},children:[Object(S.jsx)(at.a,{children:Object(S.jsx)(et.a,{})}),Object(S.jsx)(ct.a,{primary:"Home"})]}),Object(S.jsxs)(rt.a,{button:!0,onClick:function(){return u("/car")},children:[Object(S.jsx)(at.a,{children:Object(S.jsx)(it.a,{})}),Object(S.jsx)(ct.a,{primary:"Car"})]}),Object(S.jsxs)(rt.a,{button:!0,onClick:function(){return u("/cat2")},children:[Object(S.jsx)(at.a,{children:Object(S.jsx)(et.a,{})}),Object(S.jsx)(ct.a,{primary:"Cat2"})]})]}),Object(S.jsx)(Z.a,{}),Object(S.jsx)(nt.a,{children:["All mail","Trash","Spam"].map((function(t,e){return Object(S.jsxs)(rt.a,{button:!0,children:[Object(S.jsx)(at.a,{children:e%2===0?Object(S.jsx)(et.a,{}):Object(S.jsx)(it.a,{})}),Object(S.jsx)(ct.a,{primary:t})]},t)}))})]}),p=void 0!==e?function(){return e().document.body}:void 0;return Object(S.jsxs)(l.a,{sx:{display:"flex"},children:[Object(S.jsx)(Y.a,{}),Object(S.jsx)(X.a,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat(lt,"px)")},ml:{sm:"".concat(lt,"px")}},children:Object(S.jsxs)(jt.a,{children:[Object(S.jsx)(B.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:o,sx:{mr:2,display:{sm:"none"}},children:Object(S.jsx)(ut.a,{})}),Object(S.jsx)(b.a,{variant:"h6",noWrap:!0,component:"div",children:"Responsive drawer"})]})}),Object(S.jsxs)(l.a,{component:"nav",sx:{width:{sm:lt},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:[Object(S.jsx)($.a,{container:p,variant:"temporary",open:c,onClose:o,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:lt}},children:d}),Object(S.jsx)($.a,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:lt}},open:!0,children:d})]}),Object(S.jsxs)(l.a,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - ".concat(lt,"px)")}},children:[Object(S.jsx)(jt.a,{}),t.children]})]})}var dt=function(t){return Object(S.jsxs)(bt,{children:[" ",t," "]})};function pt(){return Object(S.jsxs)(G.c,{children:[Object(S.jsx)(G.a,{path:"/",element:dt(Object(S.jsx)(K,{}))}),Object(S.jsx)(G.a,{path:"/profile",element:dt(Object(S.jsx)(k,{}))}),Object(S.jsx)(G.a,{path:"/car",element:Object(S.jsx)(q,{})}),Object(S.jsx)(G.a,{path:"/cat2",element:Object(S.jsx)(Q,{})}),Object(S.jsx)(G.a,{path:"/login",element:Object(S.jsx)(J,{})})]})}var xt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,226)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,s=e.getTTFB;n(t),r(t),a(t),c(t),s(t)}))},Ot=n(48),ht=function(){return Object(S.jsx)(Ot.a,{children:Object(S.jsx)(pt,{})})};s.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(ht,{})}),document.getElementById("root")),xt()}},[[150,1,2]]]);
//# sourceMappingURL=main.a47aa134.chunk.js.map